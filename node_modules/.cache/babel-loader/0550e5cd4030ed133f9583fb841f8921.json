{"ast":null,"code":"var _jsxFileName = \"/Users/lawrencecastillo/OneDrive - Hunter - CUNY/cuny2x/Homeworks/zip-search/src/components/zip.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './zip.css';\nimport Definition from './definition'; // Zip should store all the results from the search\n\nclass Zip extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSearching: false,\n      // this should store all the data fetched from the API\n      data: []\n    };\n    this.renderSearchView = this.renderSearchView.bind(this);\n    this.renderDefault = this.renderDefault.bind(this);\n    this.clearSearch = this.clearSearch.bind(this);\n    this.fetchZipData = this.fetchZipData.bind(this);\n  } // functions to bind\n  // 1) function pass into the button  to inititate everything\n  // 2) function to create element for each results and append to result container\n  // renderDefaultView to display nothing when there is no search\n  // renderSearchView to display something when there is a search\n  // optional - reset the search status to false when the user no longer wants to search anything\n  // }\n  // componentDidMount(){\n  //     this.fetchZipData();\n  //     this.interval = setInterval(() => this.fetchZipData(),60*100000);\n  // }\n\n\n  fetchZipData() {\n    // alert(\"testing\");\n    // console.log(this.refs.searchZip.value);\n    this.setState({\n      isSearching: true\n    });\n    axios.get(\"http://ctp-zip-api.herokuapp.com/zip/\" + this.refs.searchZip.value).then(response => {\n      var result = response.data; // var wanted = [];\n      // var result = response.data.filter(Zips => wanted.includes(Zips.Zipcode));\n\n      console.log(\"----------------------------------------------------------------\");\n      console.log(result);\n      console.log(\"----------------------------------------------------------------\");\n      this.setState({\n        data: result\n      });\n      console.log(this.state.data);\n    }).catch(err => console.log(err));\n  }\n\n  clearSearch() {\n    this.setState({\n      isSearching: false\n    });\n  }\n\n  renderSearchView() {\n    return React.createElement(\"div\", {\n      className: \"cardContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"searchButton\",\n      onClick: this.clearSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Clear Search\"), this.state.data.map(info => React.createElement(\"div\", {\n      className: \"cityCard\",\n      key: info[\"City\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"cityName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, info[\"City\"], \", \", info[\"State\"]), React.createElement(\"ul\", {\n      className: \"cityInfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"State: \", info[\"State\"]), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Location: (\", info[\"Lat\"], \" \", info[\"Long\"], \")\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Population(estimated): \", info[\"EstimatedPopulation\"], \" \"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Total Wages: \", info[\"TotalWages\"], \" \")))));\n  }\n\n  renderDefault() {\n    return React.createElement(\"div\", {\n      className: \"defaultSearchInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Zip Code: \", React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Try 10016\",\n      ref: \"searchZip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.fetchZipData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Search\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"No Results\"));\n  }\n\n  render() {\n    if (this.state.isSearching) {\n      return this.renderSearchView();\n    } else {\n      return this.renderDefault();\n    }\n  }\n\n}\n\nexport default Zip;","map":{"version":3,"sources":["/Users/lawrencecastillo/OneDrive - Hunter - CUNY/cuny2x/Homeworks/zip-search/src/components/zip.js"],"names":["React","Component","axios","Definition","Zip","constructor","props","state","isSearching","data","renderSearchView","bind","renderDefault","clearSearch","fetchZipData","setState","get","refs","searchZip","value","then","response","result","console","log","catch","err","map","info","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './zip.css';\nimport Definition from './definition';\n\n// Zip should store all the results from the search\nclass Zip extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            isSearching: false,\n            // this should store all the data fetched from the API\n            data: []\n        }\n\n        this.renderSearchView = this.renderSearchView.bind(this);\n        this.renderDefault = this.renderDefault.bind(this);\n        this.clearSearch = this.clearSearch.bind(this);\n        this.fetchZipData = this.fetchZipData.bind(this);\n    }\n        // functions to bind\n            // 1) function pass into the button  to inititate everything\n            // 2) function to create element for each results and append to result container\n            // renderDefaultView to display nothing when there is no search\n            // renderSearchView to display something when there is a search\n            // optional - reset the search status to false when the user no longer wants to search anything\n    // }\n    // componentDidMount(){\n    //     this.fetchZipData();\n    //     this.interval = setInterval(() => this.fetchZipData(),60*100000);\n    // }\n\n    fetchZipData(){\n      // alert(\"testing\");\n      // console.log(this.refs.searchZip.value);\n      this.setState({isSearching:true});\n        axios.get(\"http://ctp-zip-api.herokuapp.com/zip/\" + this.refs.searchZip.value)\n            .then(response => {\n              var result = response.data;\n                // var wanted = [];\n                // var result = response.data.filter(Zips => wanted.includes(Zips.Zipcode));\n                console.log(\"----------------------------------------------------------------\");\n                console.log(result);\n                console.log(\"----------------------------------------------------------------\");\n                this.setState({data: result});\n                console.log(this.state.data);\n            })\n            .catch(err => console.log(err));\n    }\n\n    clearSearch(){\n      this.setState({\n        isSearching: false\n      });\n    }\n\n\n    renderSearchView(){\n      return(\n        <div className=\"cardContainer\">\n          <button className=\"searchButton\" onClick={this.clearSearch}>Clear Search</button>\n            {this.state.data.map((info) =>\n\n              <div className=\"cityCard\" key={info[\"City\"]}>\n                  <h3 className=\"cityName\">{info[\"City\"]}, {info[\"State\"]}</h3>\n                  <ul className=\"cityInfo\" >\n                    <li>State: {info[\"State\"]}</li>\n                    <li>Location: ({info[\"Lat\"]} {info[\"Long\"]})</li>\n                    <li>Population(estimated): {info[\"EstimatedPopulation\"]} </li>\n                    <li>Total Wages: {info[\"TotalWages\"]} </li>\n                  </ul>\n              </div>\n\n            )}\n        </div>\n      );\n    }\n\n    renderDefault(){\n      return(\n        <div className=\"defaultSearchInput\">\n          <div className=\"search\">\n            Zip Code: <input type=\"text\" placeholder=\"Try 10016\" ref=\"searchZip\"/>\n            <button onClick={this.fetchZipData}>Search</button>\n          </div>\n          <p>No Results</p>\n        </div>\n      )\n    }\n\n    render(){\n      if(this.state.isSearching){\n        return this.renderSearchView();\n      } else {\n        return this.renderDefault();\n      }\n    }\n}\n\nexport default Zip;\n"]},"metadata":{},"sourceType":"module"}